// server/enhancedSeed.js
// –£–ª—É—á—à–µ–Ω–Ω—ã–π seed —Ñ–∞–π–ª, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏

import mongoose from 'mongoose';
import { connectDB } from './src/config/db.js';
import Author from './src/models/Author.js';
import Work from './src/models/Work.js';
import Genre from './src/models/Genres.js';

const seedWorks = async () => {
  try {
    // –ü–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
    await connectDB();
    console.log('‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–æ –∫ MongoDB');
    console.log(
      `üìç –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: ${mongoose.connection.db.databaseName}\n`
    );

    // –ü–æ–ª—É—á–∞–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∞–≤—Ç–æ—Ä–æ–≤ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
    const existingAuthors = await Author.find();
    console.log(
      `üìö –ù–∞–π–¥–µ–Ω–æ ${existingAuthors.length} –∞–≤—Ç–æ—Ä–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö`
    );

    // –°–æ–∑–¥–∞–µ–º —Å–ª–æ–≤–∞—Ä—å –∞–≤—Ç–æ—Ä–æ–≤ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞ –ø–æ –∏–º–µ–Ω–∏
    const authorMap = {};
    existingAuthors.forEach((author) => {
      authorMap[author.name] = author._id;
      console.log(`   - ${author.name} (${author.type})`);
    });

    // –ü–æ–ª—É—á–∞–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∂–∞–Ω—Ä—ã –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
    const existingGenres = await Genre.find();
    console.log(
      `\nüé≠ –ù–∞–π–¥–µ–Ω–æ ${existingGenres.length} –∂–∞–Ω—Ä–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö`
    );

    // –°–æ–∑–¥–∞–µ–º —Å–ª–æ–≤–∞—Ä—å –∂–∞–Ω—Ä–æ–≤ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é
    const genreMap = {};
    existingGenres.forEach((genre) => {
      genreMap[genre.name] = genre._id;
      console.log(`   - ${genre.name}`);
    });

    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∞–≤—Ç–æ—Ä—ã –∏ –∂–∞–Ω—Ä—ã
    const requiredAuthors = [
      '–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –ü—É—à–∫–∏–Ω',
      '–°–µ—Ä–≥–µ–π –ï—Å–µ–Ω–∏–Ω',
      '–í–∏–∫—Ç–æ—Ä –¶–æ–π',
      '–í–ª–∞–¥–∏–º–∏—Ä –ú–∞—è–∫–æ–≤—Å–∫–∏–π',
    ];
    const requiredGenres = [
      '–õ–∏—Ä–∏–∫–∞',
      '–ö–ª–∞—Å—Å–∏–∫–∞',
      '–†–æ–∫',
      '–§–∏–ª–æ—Å–æ—Ñ—Å–∫–∞—è',
    ];

    let allDataPresent = true;

    console.log('\nüîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö:');
    for (const authorName of requiredAuthors) {
      if (!authorMap[authorName]) {
        console.log(`‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∞–≤—Ç–æ—Ä: ${authorName}`);
        allDataPresent = false;
      }
    }

    for (const genreName of requiredGenres) {
      if (!genreMap[genreName]) {
        console.log(`‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∂–∞–Ω—Ä: ${genreName}`);
        allDataPresent = false;
      }
    }

    if (!allDataPresent) {
      console.log(
        '\n‚ö†Ô∏è  –ù–µ –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ.'
      );
      console.log(
        '–°–Ω–∞—á–∞–ª–∞ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –∞–≤—Ç–æ—Ä–æ–≤ –∏ –∂–∞–Ω—Ä—ã —á–µ—Ä–µ–∑ MongoDB Compass.'
      );
      return;
    }

    console.log('‚úÖ –í—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–∞–Ω–Ω—ã–µ –Ω–∞–π–¥–µ–Ω—ã\n');

    // –ú–∞—Å—Å–∏–≤ –Ω–æ–≤—ã—Ö –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–π –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è
    const newWorks = [
      // –ü—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –ü—É—à–∫–∏–Ω–∞
      {
        title: '–†—É—Å–ª–∞–Ω –∏ –õ—é–¥–º–∏–ª–∞',
        type: 'poem',
        text: `–£ –ª—É–∫–æ–º–æ—Ä—å—è –¥—É–± –∑–µ–ª—ë–Ω—ã–π;
–ó–ª–∞—Ç–∞—è —Ü–µ–ø—å –Ω–∞ –¥—É–±–µ —Ç–æ–º:
–ò –¥–Ω—ë–º –∏ –Ω–æ—á—å—é –∫–æ—Ç —É—á—ë–Ω—ã–π
–í—Å—ë —Ö–æ–¥–∏—Ç –ø–æ —Ü–µ–ø–∏ –∫—Ä—É–≥–æ–º;
–ò–¥—ë—Ç –Ω–∞–ø—Ä–∞–≤–æ ‚Äî –ø–µ—Å–Ω—å –∑–∞–≤–æ–¥–∏—Ç,
–ù–∞–ª–µ–≤–æ ‚Äî —Å–∫–∞–∑–∫—É –≥–æ–≤–æ—Ä–∏—Ç.

–¢–∞–º —á—É–¥–µ—Å–∞: —Ç–∞–º –ª–µ—à–∏–π –±—Ä–æ–¥–∏—Ç,
–†—É—Å–∞–ª–∫–∞ –Ω–∞ –≤–µ—Ç–≤—è—Ö —Å–∏–¥–∏—Ç;
–¢–∞–º –Ω–∞ –Ω–µ–≤–µ–¥–æ–º—ã—Ö –¥–æ—Ä–æ–∂–∫–∞—Ö
–°–ª–µ–¥—ã –Ω–µ–≤–∏–¥–∞–Ω–Ω—ã—Ö –∑–≤–µ—Ä–µ–π;
–ò–∑–±—É—à–∫–∞ —Ç–∞–º –Ω–∞ –∫—É—Ä—å–∏—Ö –Ω–æ–∂–∫–∞—Ö
–°—Ç–æ–∏—Ç –±–µ–∑ –æ–∫–æ–Ω, –±–µ–∑ –¥–≤–µ—Ä–µ–π...`,
        author: authorMap['–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –ü—É—à–∫–∏–Ω'],
        genres: [genreMap['–ö–ª–∞—Å—Å–∏–∫–∞'], genreMap['–õ–∏—Ä–∏–∫–∞']],
        featured: true,
        publicationDate: new Date('1820-01-01'),
        imageUrl:
          'https://placehold.co/400x400/2e8b57/ffffff?text=–†—É—Å–ª–∞–Ω+–∏+–õ—é–¥–º–∏–ª–∞',
      },
      {
        title: '–ï–≤–≥–µ–Ω–∏–π –û–Ω–µ–≥–∏–Ω (–û—Ç—Ä—ã–≤–æ–∫)',
        type: 'poem',
        text: `–ú–æ–π –¥—è–¥—è —Å–∞–º—ã—Ö —á–µ—Å—Ç–Ω—ã—Ö –ø—Ä–∞–≤–∏–ª,
–ö–æ–≥–¥–∞ –Ω–µ –≤ —à—É—Ç–∫—É –∑–∞–Ω–µ–º–æ–≥,
–û–Ω —É–≤–∞–∂–∞—Ç—å —Å–µ–±—è –∑–∞—Å—Ç–∞–≤–∏–ª
–ò –ª—É—á—à–µ –≤—ã–¥—É–º–∞—Ç—å –Ω–µ –º–æ–≥.
–ï–≥–æ –ø—Ä–∏–º–µ—Ä –¥—Ä—É–≥–∏–º –Ω–∞—É–∫–∞;
–ù–æ, –±–æ–∂–µ –º–æ–π, –∫–∞–∫–∞—è —Å–∫—É–∫–∞
–° –±–æ–ª—å–Ω—ã–º —Å–∏–¥–µ—Ç—å –∏ –¥–µ–Ω—å –∏ –Ω–æ—á—å,
–ù–µ –æ—Ç—Ö–æ–¥—è –Ω–∏ —à–∞–≥—É –ø—Ä–æ—á—å!`,
        author: authorMap['–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –ü—É—à–∫–∏–Ω'],
        genres: [genreMap['–ö–ª–∞—Å—Å–∏–∫–∞']],
        featured: false,
        publicationDate: new Date('1833-01-01'),
        imageUrl:
          'https://placehold.co/400x400/4682b4/ffffff?text=–ï–≤–≥–µ–Ω–∏–π+–û–Ω–µ–≥–∏–Ω',
      },

      // –ü—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –ï—Å–µ–Ω–∏–Ω–∞
      {
        title: '–ë–µ—Ä—ë–∑–∞',
        type: 'poem',
        text: `–ë–µ–ª–∞—è –±–µ—Ä—ë–∑–∞
–ü–æ–¥ –º–æ–∏–º –æ–∫–Ω–æ–º
–ü—Ä–∏–Ω–∞–∫—Ä—ã–ª–∞—Å—å —Å–Ω–µ–≥–æ–º,
–¢–æ—á–Ω–æ —Å–µ—Ä–µ–±—Ä–æ–º.

–ù–∞ –ø—É—à–∏—Å—Ç—ã—Ö –≤–µ—Ç–∫–∞—Ö
–°–Ω–µ–∂–Ω–æ—é –∫–∞–π–º–æ–π
–†–∞—Å–ø—É—Å—Ç–∏–ª–∏—Å—å –∫–∏—Å—Ç–∏
–ë–µ–ª–æ–π –±–∞—Ö—Ä–æ–º–æ–π.

–ò —Å—Ç–æ–∏—Ç –±–µ—Ä—ë–∑–∞
–í —Å–æ–Ω–Ω–æ–π —Ç–∏—à–∏–Ω–µ,
–ò –≥–æ—Ä—è—Ç —Å–Ω–µ–∂–∏–Ω–∫–∏
–í –∑–æ–ª–æ—Ç–æ–º –æ–≥–Ω–µ.`,
        author: authorMap['–°–µ—Ä–≥–µ–π –ï—Å–µ–Ω–∏–Ω'],
        genres: [genreMap['–õ–∏—Ä–∏–∫–∞']],
        featured: true,
        publicationDate: new Date('1913-01-01'),
        imageUrl:
          'https://placehold.co/400x400/90ee90/333333?text=–ë–µ—Ä—ë–∑–∞',
      },
      {
        title: '–ö–ª—ë–Ω —Ç—ã –º–æ–π –æ–ø–∞–≤—à–∏–π',
        type: 'poem',
        text: `–ö–ª—ë–Ω —Ç—ã –º–æ–π –æ–ø–∞–≤—à–∏–π, –∫–ª—ë–Ω –∑–∞–ª–µ–¥–µ–Ω–µ–ª—ã–π,
–ß—Ç–æ —Å—Ç–æ–∏—à—å, –Ω–∞–≥–Ω—É–≤—à–∏—Å—å, –ø–æ–¥ –º–µ—Ç–µ–ª—å—é –±–µ–ª–æ–π?

–ò–ª–∏ —á—Ç–æ —É–≤–∏–¥–µ–ª? –ò–ª–∏ —á—Ç–æ —É—Å–ª—ã—à–∞–ª?
–°–ª–æ–≤–Ω–æ –∑–∞ –¥–µ—Ä–µ–≤–Ω—é –ø–æ–≥—É–ª—è—Ç—å —Ç—ã –≤—ã—à–µ–ª

–ò, –∫–∞–∫ –ø—å—è–Ω—ã–π —Å—Ç–æ—Ä–æ–∂, –≤—ã–π–¥—è –Ω–∞ –¥–æ—Ä–æ–≥—É,
–£—Ç–æ–Ω—É–ª –≤ —Å—É–≥—Ä–æ–±–µ, –ø—Ä–∏–º–æ—Ä–æ–∑–∏–ª –Ω–æ–≥—É.`,
        author: authorMap['–°–µ—Ä–≥–µ–π –ï—Å–µ–Ω–∏–Ω'],
        genres: [genreMap['–õ–∏—Ä–∏–∫–∞'], genreMap['–§–∏–ª–æ—Å–æ—Ñ—Å–∫–∞—è']],
        featured: false,
        publicationDate: new Date('1925-01-01'),
        imageUrl:
          'https://placehold.co/400x400/ff8c00/ffffff?text=–ö–ª—ë–Ω',
      },

      // –ü—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –ú–∞—è–∫–æ–≤—Å–∫–æ–≥–æ
      {
        title: '–ê –≤—ã –º–æ–≥–ª–∏ –±—ã?',
        type: 'poem',
        text: `–Ø —Å—Ä–∞–∑—É —Å–º–∞–∑–∞–ª –∫–∞—Ä—Ç—É –±—É–¥–Ω—è,
–ø–ª–µ—Å–Ω—É–≤—à–∏ –∫—Ä–∞—Å–∫—É –∏–∑ —Å—Ç–∞–∫–∞–Ω–∞;
—è –ø–æ–∫–∞–∑–∞–ª –Ω–∞ –±–ª—é–¥–µ —Å—Ç—É–¥–Ω—è
–∫–æ—Å—ã–µ —Å–∫—É–ª—ã –æ–∫–µ–∞–Ω–∞.

–ù–∞ —á–µ—à—É–µ –∂–µ—Å—Ç—è–Ω–æ–π —Ä—ã–±—ã
–ø—Ä–æ—á—ë–ª —è –∑–æ–≤—ã –Ω–æ–≤—ã—Ö –≥—É–±.
–ê –≤—ã
–Ω–æ–∫—Ç—é—Ä–Ω —Å—ã–≥—Ä–∞—Ç—å
–º–æ–≥–ª–∏ –±—ã
–Ω–∞ —Ñ–ª–µ–π—Ç–µ –≤–æ–¥–æ—Å—Ç–æ—á–Ω—ã—Ö —Ç—Ä—É–±?`,
        author: authorMap['–í–ª–∞–¥–∏–º–∏—Ä –ú–∞—è–∫–æ–≤—Å–∫–∏–π'],
        genres: [genreMap['–õ–∏—Ä–∏–∫–∞'], genreMap['–§–∏–ª–æ—Å–æ—Ñ—Å–∫–∞—è']],
        featured: true,
        publicationDate: new Date('1913-01-01'),
        imageUrl:
          'https://placehold.co/400x400/ff4500/ffffff?text=–ê+–≤—ã+–º–æ–≥–ª–∏+–±—ã',
      },
      {
        title: '–ü–æ—Å–ª—É—à–∞–π—Ç–µ!',
        type: 'poem',
        text: `–ü–æ—Å–ª—É—à–∞–π—Ç–µ!
–í–µ–¥—å, –µ—Å–ª–∏ –∑–≤—ë–∑–¥—ã –∑–∞–∂–∏–≥–∞—é—Ç ‚Äî
–∑–Ω–∞—á–∏—Ç ‚Äî —ç—Ç–æ –∫–æ–º—É-–Ω–∏–±—É–¥—å –Ω—É–∂–Ω–æ?
–ó–Ω–∞—á–∏—Ç ‚Äî –∫—Ç–æ-—Ç–æ —Ö–æ—á–µ—Ç, —á—Ç–æ–±—ã –æ–Ω–∏ –±—ã–ª–∏?
–ó–Ω–∞—á–∏—Ç ‚Äî –∫—Ç–æ-—Ç–æ –Ω–∞–∑—ã–≤–∞–µ—Ç —ç—Ç–∏ –ø–ª–µ–≤–æ—á–∫–∏
–∂–µ–º—á—É–∂–∏–Ω–æ–π?`,
        author: authorMap['–í–ª–∞–¥–∏–º–∏—Ä –ú–∞—è–∫–æ–≤—Å–∫–∏–π'],
        genres: [genreMap['–§–∏–ª–æ—Å–æ—Ñ—Å–∫–∞—è']],
        featured: false,
        publicationDate: new Date('1914-01-01'),
        imageUrl:
          'https://placehold.co/400x400/ffd700/333333?text=–ü–æ—Å–ª—É—à–∞–π—Ç–µ',
      },

      // –ü–µ—Å–Ω–∏ –í–∏–∫—Ç–æ—Ä–∞ –¶–æ—è
      {
        title: '–ö—É–∫—É—à–∫–∞',
        type: 'song',
        text: `–ü–µ—Å–µ–Ω –µ—â–µ –Ω–µ–Ω–∞–ø–∏—Å–∞–Ω–Ω—ã—Ö, —Å–∫–æ–ª—å–∫–æ?
–°–∫–∞–∂–∏, –∫—É–∫—É—à–∫–∞, –ø—Ä–æ–ø–æ–π.
–í –≥–æ—Ä–æ–¥–µ –º–Ω–µ –∂–∏—Ç—å –∏–ª–∏ –Ω–∞ –≤—ã—Å–µ–ª–∫–∞—Ö,
–ö–∞–º–Ω–µ–º –ª–µ–∂–∞—Ç—å –∏–ª–∏ –≥–æ—Ä–µ—Ç—å –∑–≤–µ–∑–¥–æ–π?
–ó–≤–µ–∑–¥–æ–π.

–°–æ–ª–Ω—Ü–µ –º–æ—ë ‚Äî –≤–∑–≥–ª—è–Ω–∏ –Ω–∞ –º–µ–Ω—è,
–ú–æ—è –ª–∞–¥–æ–Ω—å –ø—Ä–µ–≤—Ä–∞—Ç–∏–ª–∞—Å—å –≤ –∫—É–ª–∞–∫,
–ò –µ—Å–ª–∏ –µ—Å—Ç—å –ø–æ—Ä–æ—Ö ‚Äî –¥–∞–π –æ–≥–Ω—è.
–í–æ—Ç —Ç–∞–∫.`,
        author: authorMap['–í–∏–∫—Ç–æ—Ä –¶–æ–π'],
        genres: [genreMap['–†–æ–∫'], genreMap['–§–∏–ª–æ—Å–æ—Ñ—Å–∫–∞—è']],
        featured: true,
        publicationDate: new Date('1990-01-01'),
        duration: 279,
        imageUrl:
          'https://placehold.co/400x400/4b0082/ffffff?text=–ö—É–∫—É—à–∫–∞',
      },
      {
        title: '–ü–æ—Å–ª–µ–¥–Ω–∏–π –≥–µ—Ä–æ–π',
        type: 'song',
        text: `–ù–æ—á—å –∫–æ—Ä–æ—Ç–∫–∞, —Ü–µ–ª—å –¥–∞–ª–µ–∫–∞,
–ù–æ—á—å—é —Ç–∞–∫ —á–∞—Å—Ç–æ —Ö–æ—á–µ—Ç—Å—è –ø–∏—Ç—å,
–¢—ã –≤—ã—Ö–æ–¥–∏—à—å –Ω–∞ –∫—É—Ö–Ω—é,
–ù–æ –≤–æ–¥–∞ –∑–¥–µ—Å—å –≥–æ—Ä—å–∫–∞—è,
–¢—ã –Ω–µ –º–æ–∂–µ—à—å –∑–¥–µ—Å—å —Å–ø–∞—Ç—å,
–¢—ã –Ω–µ —Ö–æ—á–µ—à—å –∑–¥–µ—Å—å –∂–∏—Ç—å.

–î–æ–±—Ä–æ–µ —É—Ç—Ä–æ, –ø–æ—Å–ª–µ–¥–Ω–∏–π –≥–µ—Ä–æ–π!
–î–æ–±—Ä–æ–µ —É—Ç—Ä–æ —Ç–µ–±–µ –∏ —Ç–∞–∫–∏–º, –∫–∞–∫ —Ç—ã,
–î–æ–±—Ä–æ–µ —É—Ç—Ä–æ, –ø–æ—Å–ª–µ–¥–Ω–∏–π –≥–µ—Ä–æ–π!
–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π, –ø–æ—Å–ª–µ–¥–Ω–∏–π –≥–µ—Ä–æ–π!`,
        author: authorMap['–í–∏–∫—Ç–æ—Ä –¶–æ–π'],
        genres: [genreMap['–†–æ–∫']],
        featured: false,
        publicationDate: new Date('1989-01-01'),
        duration: 197,
        imageUrl:
          'https://placehold.co/400x400/8b008b/ffffff?text=–ü–æ—Å–ª–µ–¥–Ω–∏–π+–≥–µ—Ä–æ–π',
      },
    ];

    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –∫–∞–∫–∏–µ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç
    console.log('üìù –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–π...');
    const existingTitles = await Work.find({}, 'title').lean();
    const existingTitleSet = new Set(
      existingTitles.map((w) => w.title)
    );

    // –§–∏–ª—å—Ç—Ä—É–µ–º —Ç–æ–ª—å–∫–æ –Ω–æ–≤—ã–µ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
    const worksToAdd = newWorks.filter(
      (work) => !existingTitleSet.has(work.title)
    );

    if (worksToAdd.length === 0) {
      console.log(
        '\n‚úÖ –í—Å–µ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö'
      );
      return;
    }

    console.log(
      `\nüì• –î–æ–±–∞–≤–ª–µ–Ω–∏–µ ${worksToAdd.length} –Ω–æ–≤—ã—Ö –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–π...`
    );

    // –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–µ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
    const createdWorks = await Work.insertMany(worksToAdd);

    console.log('\n‚úÖ –£—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è:');
    createdWorks.forEach((work) => {
      console.log(`   - "${work.title}" (${work.type})`);
    });

    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –æ–±—â—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
    const totalWorks = await Work.countDocuments();
    const totalPoems = await Work.countDocuments({ type: 'poem' });
    const totalSongs = await Work.countDocuments({ type: 'song' });

    console.log('\nüìä –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:');
    console.log(`   - –í—Å–µ–≥–æ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–π: ${totalWorks}`);
    console.log(`   - –°—Ç–∏—Ö–æ—Ç–≤–æ—Ä–µ–Ω–∏–π: ${totalPoems}`);
    console.log(`   - –ü–µ—Å–µ–Ω: ${totalSongs}`);
  } catch (error) {
    console.error('‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–π:', error);
  } finally {
    // –ó–∞–∫—Ä—ã–≤–∞–µ–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
    await mongoose.connection.close();
    console.log('\nüëã –°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö –∑–∞–∫—Ä—ã—Ç–æ');
  }
};

// –ó–∞–ø—É—Å–∫–∞–µ–º seed
console.log(
  'üöÄ –ó–∞–ø—É—Å–∫ seed —Å–∫—Ä–∏–ø—Ç–∞ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–π...\n'
);
seedWorks();
